@model Asiservy.Automatizacion.Datos.Datos.CONTROL_HUESO

@{
    ViewBag.Title = "ControlHueso";
}

<style>
    input, select, textarea {
        max-width: 100%;
    }
</style>
<h4>Control de Huesos</h4>

<b> <label>@DateTime.Now.ToShortDateString()</label></b> &nbsp;
<label>@ViewBag.Linea </label>
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">

        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="row">
            <div class="col-md-3 col-6">
                <div class="form-group">

                    <label>Fecha Producción</label>
                    <input type="date" id="txtFechaProduccion" name="name" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" onchange="CargarOrdenFabricacion(this.value)" />

                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="form-group">
                    <label>Orden Fabricación</label>
                    @Html.DropDownList("OrdenFabricacion", new SelectList(ViewBag.OrdenesFabricacion, "OrdenFabricacion", "OrdenFabricacion"), "Seleccione", new { @class = "form-control", @id = "SelectOrdenFabricacion", @onchange = "CargarLotes(this.value)" })
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="form-group">
                    <label>Lote</label>
                    <select id="SelectLote" class="form-control">
                        <option value="0">Seleccione</option>
                    </select>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <label>Tipo Control</label>
                @Html.DropDownList("TipoControlHueso", new SelectList(ViewBag.TipoControlHueso, "Codigo", "Descripcion"), new { @class = "form-control", @id = "SelectTipoControl", @onchange = "SeleccionarTipoControl(this.value)" })
            </div>
        </div>
        <div class="row">


            <input type="hidden" name="name" id="txtLinea" value="@ViewBag.CodLinea" />
            <input type="hidden" name="name" id="txtIdControlHueso" value="0" />
            <div class="col-md-2 col-6">
                <div class="form-group">
                    <label>Hora Inicio</label>
                    <input class="form-control" type="time" name="name" value="" id="txtHoraInicio" />
                </div>
            </div>
            <div class="col-md-2 col-6">
                <div class="form-groupf">
                    <label>Hora Fin</label>
                    <input class="form-control" type="time" name="name" value="" id="txtHoraFin" />
                </div>
            </div>
            <div class="col-md-2 col-12" hidden id="divPiezas">
                <div class="form-groupf">
                    <label>Total Piezas</label>
                    <input class="form-control" type="number" name="name" value="0" id="txtPiezas" />
                </div>
            </div>
            <div class="col-md-8 col-12">
                <div class="form-groupf">
                    <label>Observación</label>
                    <input class="form-control" type="text" name="name" value="" id="txtObservacion" />
                </div>
            </div>

        </div>
        <br />

        <div class="col-12 text-center">
            @*<input type="button" id="btnGenerar" name="Generar" value="Generar" class="btn btn-primary" onclick="GenerarControlHueso()" />
                <input type="button" id="btnNuevo" name="Nuevo" value="Nuevo" class="btn btn-info" onclick="NuevoControlHueso()" />*@

            <button data-toggle="tooltip" data-placement="top" title="Generar" class="btn" id="btnGenerar" onclick="GenerarControlHueso()" style="border-color:#2c3e50" type="button">
                <img style="width:100%" src="~/Content/icons/add24.png" />
            </button>
            <button data-toggle="tooltip" data-placement="top" title="Nuevo" class="btn" id="btnNuevo" onclick="NuevoControlHueso()" style="border-color:#2c3e50" type="button">
                <img style="width:100%" src="~/Content/icons/atras24.png" />
            </button>
            <button data-toggle="tooltip" data-placement="top" title="Inactivar" class="btn" id="btnInactivar" onclick="" style="border-color:#2c3e50" type="button" hidden>
                <img style="width:100%" src="~/Content/icons/cancel24.png" />
            </button>
        </div>
        <hr />
        <div class="d-flex justify-content-center">
            <div id="spinnerCargando" hidden class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <div class="row">
            <div id="DivTableControlHuesoDetalle" class="table-responsive"></div>
            <div id="DivTableControlHueso" class="table-responsive"></div>


        </div>


    </div>
}



<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="mi-modal">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Eliminar Control de Hueso</h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" id="modal-btn-si">Si</button>
                <button type="button" class="btn btn-outline-primary" id="modal-btn-no">No</button>
            </div>
        </div>
    </div>
</div>

<div class="alert" role="alert" id="result"></div>
